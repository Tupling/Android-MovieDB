/*
 * Project:        MoviesDB
 * 
 * Package: com.daletupling.movies
 * 
 * Author:         Dale Tupling
 * 
 * Date:        December 3rd, 2013
 * 
 */
package libs;

import java.net.MalformedURLException;
import java.net.URL;

import org.json.JSONArray;

import android.app.Activity;
import android.app.IntentService;
import android.content.Intent;
import android.os.Bundle;
import android.os.Message;
import android.os.Messenger;
import android.os.RemoteException;
import android.util.Log;



public class MovieService extends IntentService {

	public MovieService() {
		super("MovieService");
		// TODO Auto-generated constructor stub
	}

	String response = null;
	String finalSearch = null;
	URL finalURL = null;
	int result;
	
	JSONArray array_results;
	
	protected void onHandleIntent1(Intent intent) {

		
		try{
			finalURL = new URL(apiURL);
			response = Data.getResponse(finalURL);
			if(response.length() > 0) result = Activity.RESULT_OK;
		} catch (MalformedURLException e){
			Log.e("BAD URL", "MALFORMED URL");
			finalURL = null;
		}
		
		return data_response;
	}

	@Override
	protected void onHandleIntent(Intent intent) {
		// TODO Auto-generated method stub
		Bundle extras = intent.getExtras();
		if (extras != null){
			finalSearch = (String) extras.get("search");
			String dataResponse = "http://api.themoviedb.org/3/search/movie?api_key=f9787f25661403e36a229aa8a0afd09c&query="+finalSearch;
					"Log.i("onHandleIntent",dataResponse);
		}
	}



}
